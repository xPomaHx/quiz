(function(e){function t(t){for(var a,i,o=t[0],l=t[1],c=t[2],d=0,p=[];d<o.length;d++)i=o[d],s[i]&&p.push(s[i][0]),s[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,o=1;o<n.length;o++){var l=n[o];0!==s[l]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},s={app:0},r=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("1356"),s=n.n(a);s.a},1356:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),s=n("bb71");n("da64");a["a"].use(s["a"],{iconfont:"md",theme:{primary:"#67bd8e",secondary:"#b0bec5",accent:"#8c9eff",error:"#b71c1c"}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("div",{staticClass:"quiz-container"},[n("div",[n("v-btn",{staticClass:"bro-btn-back",attrs:{outline:"",color:"indigo",disabled:e.prevIsDisabled},on:{click:e.prev}},[e._v("Назад")])],1),n("div",{staticClass:"quiz-step-container"},[n("div",{directives:[{name:"show",rawName:"v-show",value:1===e.currentStep,expression:"currentStep===1"}],staticClass:"step1"},[n("p",[e._v("У каждого из нас есть свои небесные помощники, которые помогают нам в наших трудностях и направляют в моменты сомнений.")]),n("p",[e._v("\n          Все люди разные и каждому из нас дан свой небесный покровитель, помогающий именно ему, который опекает, заботится и оберегает. Он дан\n          свыше, чтобы защищать охранять и помогать. Наши просьбы и молитвы лучше и быстрее всего слышат и исполняют именно они.\n        ")]),n("p",[n("strong",[e._v("Именно поэтому очень важно знать, кто является Вашим небесным покровителем. Мы можем помочь Вам узнать вашего небесного покровителя:")])]),n("v-btn",{staticClass:"bro-btn-next",attrs:{outline:"",color:"indigo",disabled:e.nextIsDisabled},on:{click:e.next}},[e._v("Хочу узнать кто мой небесный покровитель")]),n("small",[e._v("* Нажимая на кнопку, вы соглашаетесь на обработку персональных данных")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:2===e.currentStep,expression:"currentStep===2"}],staticClass:"step2"},[n("p",[n("strong",[e._v("Для кого вы хотите узнать небесного покровителя?")])]),n("v-radio-group",{model:{value:e.dlyakogo,callback:function(t){e.dlyakogo=t},expression:"dlyakogo"}},[n("v-radio",{attrs:{label:"Для Себя",value:"1"}}),n("v-radio",{attrs:{label:"Для другого человека (Не для себя)",value:"0"}})],1),n("v-btn",{staticClass:"bro-btn-next",attrs:{outline:"",color:"indigo",disabled:e.nextIsDisabled},on:{click:e.next}},[e._v("Далее")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:3===e.currentStep,expression:"currentStep===3"}],staticClass:"step3"},[n("p",[n("strong",[e._v("Ваш святой небесный покровитель носит ваше имя. Чтобы его определить, скажите, как вас зовут?")])]),n("v-autocomplete",{attrs:{items:e.namesAutoComplite(e.namesearch),"search-input":e.namesearch,"hide-no-data":"",label:"Введите имя",placeholder:"Введите имя"},on:{"update:searchInput":function(t){e.namesearch=t},"update:search-input":function(t){e.namesearch=t}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),n("v-btn",{staticClass:"bro-btn-next",attrs:{outline:"",color:"indigo",disabled:e.nextIsDisabled},on:{click:e.next}},[e._v("Далее")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:4===e.currentStep,expression:"currentStep===4"}],staticClass:"step4"},[n("p",[n("strong",[e._v("Вас крестили?")])]),n("v-radio-group",{model:{value:e.vaskrestili,callback:function(t){e.vaskrestili=t},expression:"vaskrestili"}},[n("v-radio",{attrs:{label:"Да",value:"1"}}),n("v-radio",{attrs:{label:"Нет",value:"0"}})],1),n("v-btn",{staticClass:"bro-btn-next",attrs:{outline:"",color:"indigo",disabled:e.nextIsDisabled},on:{click:e.next}},[e._v("Далее")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:5===e.currentStep,expression:"currentStep===5"}],staticClass:"step5"},[n("p",[n("strong",[e._v("Вы помните когда вас крестили?")])]),n("p",{staticStyle:{"text-align":"left","align-self":"flex-start","margin-bottom":"-0px","margin-left":"94px"}},[e._v("Выберите дату")]),n("div",{staticClass:"bro-row"},[n("v-select",{attrs:{items:new Array(31).fill(0).map(function(e,t){return t+1}),placeholder:"--",disabled:e.vaskrestilipomny},model:{value:e.datekrest1,callback:function(t){e.datekrest1=t},expression:"datekrest1"}}),n("v-select",{attrs:{items:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Ноябрь","Декабрь"].map(function(e,t){return{text:e,value:t+1}}),placeholder:"--",disabled:e.vaskrestilipomny},model:{value:e.datekrest2,callback:function(t){e.datekrest2=t},expression:"datekrest2"}}),n("v-select",{attrs:{placeholder:"----",disabled:e.vaskrestilipomny,items:new Array(90).fill(0).map(function(e,t){return t+1929})},model:{value:e.datekrest3,callback:function(t){e.datekrest3=t},expression:"datekrest3"}})],1),n("v-checkbox",{attrs:{label:"Не помню"},model:{value:e.vaskrestilipomny,callback:function(t){e.vaskrestilipomny=t},expression:"vaskrestilipomny"}}),n("v-btn",{staticClass:"bro-btn-next",attrs:{outline:"",color:"indigo",disabled:e.nextIsDisabled},on:{click:e.next}},[e._v("Далее")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:6===e.currentStep,expression:"currentStep===6"}],staticClass:"step6"},[n("p",[n("strong",[e._v("Какое имя дали вам при крещении?")]),n("br"),e._v("Введите если имя отличается от мирского\n        ")]),n("v-checkbox",{attrs:{label:e.name},on:{change:function(t){e.name2=null}},model:{value:e.imyaprikresh,callback:function(t){e.imyaprikresh=t},expression:"imyaprikresh"}}),n("v-autocomplete",{attrs:{items:e.namesAutoComplite(e.name2search),"search-input":e.name2search,"hide-no-data":"",label:"Введите имя",placeholder:"Введите имя","persistent-hint":""},on:{"update:searchInput":function(t){e.name2search=t},"update:search-input":function(t){e.name2search=t},change:function(t){e.imyaprikresh=null}},model:{value:e.name2,callback:function(t){e.name2=t},expression:"name2"}}),n("v-btn",{staticClass:"bro-btn-next",attrs:{outline:"",color:"indigo",disabled:e.nextIsDisabled},on:{click:e.next}},[e._v("Далее")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:7===e.currentStep,expression:"currentStep===7"}],staticClass:"step7"},[n("p",[n("strong",[e._v("День вашего появления на свет имеет важное значение, от этого зависит кто ваш небесный покровитель. Введите ваш день рождения.")])]),n("p",{staticStyle:{"text-align":"left","align-self":"flex-start","margin-bottom":"-0px","margin-left":"94px"}},[e._v("Выберите дату")]),n("div",{staticClass:"bro-row"},[n("v-select",{attrs:{items:new Array(31).fill(0).map(function(e,t){return t+1}),placeholder:"--"},model:{value:e.datebeth1,callback:function(t){e.datebeth1=t},expression:"datebeth1"}}),n("v-select",{attrs:{items:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Ноябрь","Декабрь"].map(function(e,t){return{text:e,value:t+1}}),placeholder:"--"},model:{value:e.datebeth2,callback:function(t){e.datebeth2=t},expression:"datebeth2"}}),n("v-select",{attrs:{placeholder:"----",items:new Array(90).fill(0).map(function(e,t){return t+1929})},model:{value:e.datebeth3,callback:function(t){e.datebeth3=t},expression:"datebeth3"}})],1),n("v-btn",{staticClass:"bro-btn-next",attrs:{outline:"",color:"indigo",disabled:e.nextIsDisabled},on:{click:e.next}},[e._v("Далее")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:8===e.currentStep,expression:"currentStep===8"}],staticClass:"step8"},[n("p",[n("strong",[e._v("Поздравить вас с вашими именинами – днем памяти вашего небесного покровителя – большая радость для нас. Если хотите чтобы мы это сделали, пожалуйста, оставьте вашу почту")])]),n("v-text-field",{attrs:{label:"Ваш e-mail",placeholder:"Например name@name.ru"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("v-btn",{staticClass:"bro-btn-next",attrs:{outline:"",color:"indigo",disabled:e.nextIsDisabled},on:{click:e.next}},[e._v("Далее")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:9===e.currentStep,expression:"currentStep===9"}],staticClass:"step9"},[n("p",[e._v("\n          Ваш святой небесный покровитель –\n          "),n("br"),n("strong",[e._v(e._s(e.curLineData.name))]),n("br"),e._v("Информация про него\n        ")]),n("div",{staticClass:"bro-row"},e._l(e.goods,function(t,a){return n("div",{key:a,staticClass:"bro-col"},[n("div",{staticClass:"bro-img",style:{"background-image":"url(https://shop.svyatsy.org/"+t.imgSrc+")"},on:{click:function(n){return e.next(t)}}}),n("div",{staticClass:"bro-vnalichii"},[e._v("В наличии")]),n("h4",{on:{click:function(n){return e.next(t)}}},[e._v(e._s(t.title))]),n("div",{staticClass:"bro-price"},[n("small",[e._v(e._s(t.price1))]),n("span",[e._v(e._s(t.price2))])]),n("v-btn",{staticClass:"bro-btn-next",attrs:{outline:"",color:"green",disabled:e.nextIsDisabled},on:{click:function(n){return e.next(t)}}},[e._v("Подробнее")])],1)}),0),n("v-btn",{staticClass:"bro-btn-next",attrs:{outline:"",color:"indigo",disabled:e.nextIsDisabled},on:{click:e.next}},[e._v("Посмотреть все с "+e._s(e.curLineData.name))])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:10===e.currentStep,expression:"currentStep===10"}],staticClass:"step10"},[n("p",[n("strong",[e._v("Крещение – важное событие с жизни человека. Таинство крещения проводятся в Церкви и для участия в нем надо обратиться в Храм. Так же, для осуществления таинства крещения, следует приобрести крестильную рубашку, крестик и рушник")])]),n("v-btn",{staticClass:"bro-btn-next",attrs:{outline:"",color:"indigo",disabled:e.nextIsDisabled},on:{click:e.next}},[e._v("Купить всё необходимое для таинства крещения")])],1)])])])},i=[],o=(n("8615"),n("ac6a"),n("b54a"),n("55dd"),n("28a5"),n("768b"));n("7f7f"),n("4be7");function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(t)})}function c(e){return e.charAt(0).toUpperCase()+e.slice(1)}var u={name:"App",components:{},data:function(){return{date:(new Date).toISOString().substr(0,10),menu1:!1,menu2:!1,rules:{required:function(e){return!!e||"Обязательно."},counter:function(e){return e.length<=20||"Max 20 characters"},email:function(e){if(!e)return!0;var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Некорректный e-mail."}},namesXlsData:[],names:[],email:"",dlyakogo:"1",currentStep:1,name:"",namesearch:"",vaskrestili:"1",vaskrestilipomny:!1,datekrest1:null,datekrest2:null,datekrest3:null,datebeth1:null,datebeth2:null,datebeth3:null,imyaprikresh:!0,name2:"",name2search:"",goods:[{title:"Крест серебряный, позолота 5113",link:"https://shop.svyatsy.org/",price1:"3 150 руб.",price2:"2 930 руб.",imgSrc:"https://svyatsy.org/assets/images/shop/dominoes/RAR-248m_enl.jpg"},{title:"Крест серебряный, позолота 5113",link:"https://shop.svyatsy.org/",price1:"3 150 руб.",price2:"2 930 руб.",imgSrc:"https://svyatsy.org/assets/images/shop/dominoes/RAR-248m_enl.jpg"},{title:"Крест серебряный, позолота 5113",link:"https://shop.svyatsy.org/",price1:"3 150 руб.",price2:"2 930 руб.",imgSrc:"https://svyatsy.org/assets/images/shop/dominoes/RAR-248m_enl.jpg"}]}},watch:{menu1:function(e){var t=this;e&&setTimeout(function(){return t.$refs.picker.activePicker="YEAR"},1)},menu2:function(e){var t=this;e&&setTimeout(function(){return t.$refs.picker.activePicker="YEAR"},1)}},computed:{datekrest:function(){return this.datekrest1+"-"+this.datekrest2+"-"+this.datekrest3},datebeth:function(){return this.datekrest1+"-"+this.datekrest2+"-"+this.datekrest3},formData:function(){return[(new Date).toISOString(),this.email,this.dlyakogo,this.currentStep,this.name,this.vaskrestili,this.vaskrestilipomny,this.datekrest,this.datebeth,this.imyaprikresh,this.name2]},curLineData:function(){var e={name:"",link:""},t=this.name2||this.name,n=(this.datebeth||this.datekrest||"").split("-"),a=Object(o["a"])(n,3),s=(a[0],a[1]),r=a[2],i=new Date("2000-".concat(s,"-").concat(r)),l=this.namesXlsData.filter(function(e){return e[0]==t});if(!l.length||!t||!s||!r)return e;l.sort(function(e,t){return e[1]>t[1]?1:-1});for(var c={},u=0;u<l.length;u++)if(c=l[u],i<c[1])break;return e.name=c[2],e.link=c[3],e},nextIsDisabled:function(){switch(this.currentStep){case 3:return!Boolean(this.name);case 4:return!Boolean(this.vaskrestili);case 5:return!Boolean(this.datekrest1&&this.datekrest2&&this.datekrest3||this.vaskrestilipomny);case 6:return!Boolean(this.imyaprikresh||this.name2);case 7:return!Boolean(this.datebeth1&&this.datebeth2&&this.datebeth3);default:return!1}},prevIsDisabled:function(){return 1==this.currentStep}},methods:{namesAutoComplite:function(e){return e&&e.length>1?this.names:[]},next:function(e){switch(this.currentStep){case 4:1==this.vaskrestili?this.currentStep++:this.currentStep=10;break;case 9:case 10:var t="https://shop.svyatsy.org/";e&&e.link&&(t=e.link),l("./save.php",this.formData).then(function(){window.top.location.href=t});break;default:this.currentStep++}},prev:function(){switch(this.currentStep){case 10:1==this.vaskrestili?this.currentStep--:this.currentStep=4;break;default:this.currentStep--}}},created:function(){var e=this,t=new FileReader;t.onload=function(t){var n=t.target.result,a=XLS.CFB.read(n,{type:"binary"}),s=XLS.parse_xlscfb(a);s.SheetNames.forEach(function(t){XLS.utils.make_csv(s.Sheets[t]);var n=XLS.utils.sheet_to_json(s.Sheets[t],{header:1}).slice(1);n=n.map(function(e){e[0]=c(e[0]);var t=e[1].split("/"),n=Object(o["a"])(t,2),a=n[0],s=n[1];return e[1]=new Date("2000-".concat(a,"-").concat(s)),e}),e.namesXlsData=n,e.names=n.map(function(e){return e[0]})})};var n=new XMLHttpRequest;n.open("GET","./names.xls",!0),n.responseType="blob",n.onload=function(){var e=n.response;t.readAsBinaryString(e)},n.send();var a=this;(function(){var t=new XMLHttpRequest;t.open("GET","./getGoods.php",!0),t.onload=function(){var n=t.response,s=JSON.parse(n),r=s.goods;r=Object.values(r.reduce(function(e,t){return e[t.id]||(e[t.id]={}),e[t.id].title=t.pagetitle,"32"==t.tmplvarid&&(e[t.id].imgSrc=t.value),"46"==t.tmplvarid&&(e[t.id].price1=t.value),"35"==t.tmplvarid&&(e[t.id].price2=t.value),e},{})),a.$set(e,"goods",r)},t.send()})()}},d=u,p=(n("034f"),n("2877")),v=n("6544"),h=n.n(v),m=n("7496"),b=n("c6a6"),f=n("8336"),k=n("ac7c"),g=n("67b6"),x=n("43a6"),y=n("b56d"),w=n("2677"),S=Object(p["a"])(d,r,i,!1,null,null,null),_=S.exports;h()(S,{VApp:m["a"],VAutocomplete:b["a"],VBtn:f["a"],VCheckbox:k["a"],VRadio:g["a"],VRadioGroup:x["a"],VSelect:y["a"],VTextField:w["a"]}),a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e(_)}}).$mount("#app")}});
//# sourceMappingURL=app.1fce9a75.js.map